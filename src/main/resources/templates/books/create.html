<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout/base :: content">
<section>
    <h1>Create Book</h1>
    <form th:action="@{/books/create}" th:object="${bookDto}" method="post" class="row g-3">
        <div class="col-md-8">
            <label class="form-label">Title</label>
            <input type="text" th:field="*{title}" class="form-control" />
            <div class="text-danger" th:errors="*{title}"></div>
        </div>
        <div class="col-md-4">
            <label class="form-label">ISBN</label>
            <input type="text" th:field="*{isbn}" class="form-control" />
            <div class="text-danger" th:errors="*{isbn}"></div>
        </div>
        <div class="col-md-4">
            <label class="form-label">Publisher</label>
            <select th:field="*{publisherId}" class="form-select">
                <option th:each="p : ${publishers}" th:value="${p.publisherId}" th:text="${p.name}">Publisher</option>
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Category</label>
            <select th:field="*{categoryId}" class="form-select">
                <option th:each="c : ${categories}" th:value="${c.categoryId}" th:text="${c.name}">Category</option>
            </select>
        </div>
        <div class="col-md-8">
            <label class="form-label">Authors (Ctrl+click to select multiple)</label>
            <select th:field="*{authorIds}" multiple="multiple" class="form-select">
                <option th:each="a : ${allAuthors}" th:value="${a.authorId}"
                    th:text="${a.firstName + ' ' + a.lastName}"></option>
            </select>
        </div>
        <div class="col-12">
            <label class="form-label">Description</label>
            <textarea th:field="*{description}" class="form-control" rows="4"></textarea>
        </div>
        <div class="col-12">
            <button class="btn btn-primary">Save</button>
            <a th:href="@{/books}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</section>

</html>